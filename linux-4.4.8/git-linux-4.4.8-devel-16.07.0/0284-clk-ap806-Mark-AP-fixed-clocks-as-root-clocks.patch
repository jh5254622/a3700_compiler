From 1fc4957d48b54c83320f9ff8e1bf1ae0f5b0e968 Mon Sep 17 00:00:00 2001
From: Shadi Ammouri <shadi@marvell.com>
Date: Wed, 30 Mar 2016 13:30:10 +0300
Subject: [PATCH 284/538] clk: ap806: Mark AP fixed clocks as root clocks

This enables other child clocks to use this clock as their source.

Change-Id: I4811fda8fa036c0a3c5ba9c64919051eac8da1cc
Signed-off-by: Shadi Ammouri <shadi@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/28666
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Yehuda Yitschak <yehuday@marvell.com>
---
 drivers/clk/mvebu/ap806-system-controller.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/clk/mvebu/ap806-system-controller.c b/drivers/clk/mvebu/ap806-system-controller.c
index e81cd64..ccca3af 100644
--- a/drivers/clk/mvebu/ap806-system-controller.c
+++ b/drivers/clk/mvebu/ap806-system-controller.c
@@ -80,17 +80,17 @@ static void __init ap806_syscon_clk_init(struct device_node *np)
 	of_property_read_string_index(np, "clock-output-names",
 				      0, &name);
 	ap806_clks[0] = clk_register_fixed_rate(NULL, name, NULL,
-						0, cpuclk_freq);
+						CLK_IS_ROOT, cpuclk_freq);
 
 	of_property_read_string_index(np, "clock-output-names",
 				      1, &name);
-	ap806_clks[1] = clk_register_fixed_rate(NULL, name, NULL, 0,
+	ap806_clks[1] = clk_register_fixed_rate(NULL, name, NULL, CLK_IS_ROOT,
 						cpuclk_freq);
 
 	/* Fixed clock is always 1200 Mhz */
 	of_property_read_string_index(np, "clock-output-names",
 				      2, &fixedclk_name);
-	ap806_clks[2] = clk_register_fixed_rate(NULL, fixedclk_name, NULL, 0,
+	ap806_clks[2] = clk_register_fixed_rate(NULL, fixedclk_name, NULL, CLK_IS_ROOT,
 						1200 * 1000 * 1000);
 
 	/* MSS Clock is fixed clock divided by 6 */
-- 
1.9.1

