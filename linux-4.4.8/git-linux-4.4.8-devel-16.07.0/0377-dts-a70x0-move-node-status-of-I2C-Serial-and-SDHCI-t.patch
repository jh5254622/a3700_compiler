From 4abcdce0f80bd8bfc8fef05d01f97906458f251e Mon Sep 17 00:00:00 2001
From: Hanna Hawa <hannah@marvell.com>
Date: Wed, 4 May 2016 10:01:35 +0300
Subject: [PATCH 377/538] dts: a70x0: move node status of I2C, Serial, and
 SDHCI to dts file

Move node status of I2C, Serial, and SDHCI to dts file to be
more easily to disable/enable the unit

Change-Id: I72e4185bb62cd892d6c3accc27585c0128b08895
Signed-off-by: Hanna Hawa <hannah@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/29486
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Shadi Ammouri <shadi@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/29572
---
 .../boot/dts/marvell/armada-7040-db-router.dts      | 21 +++++++++++++++++++++
 arch/arm64/boot/dts/marvell/armada-7040-db.dtsi     |  8 --------
 2 files changed, 21 insertions(+), 8 deletions(-)

diff --git a/arch/arm64/boot/dts/marvell/armada-7040-db-router.dts b/arch/arm64/boot/dts/marvell/armada-7040-db-router.dts
index 9a34950..a611093 100644
--- a/arch/arm64/boot/dts/marvell/armada-7040-db-router.dts
+++ b/arch/arm64/boot/dts/marvell/armada-7040-db-router.dts
@@ -55,6 +55,21 @@
 
 	chosen { };
 
+	ap806 {
+		config-space {
+			sdhci@6e0000 {
+				status = "okay";
+			};
+			serial@512000 {
+				status = "okay";
+			};
+			i2c@511000 {
+				status = "okay";
+				clock-frequency = <100000>;
+			};
+		};
+	};
+
 	cpn-110-master {
 		config-space {
 			serial@702000 {
@@ -81,6 +96,12 @@
 			spi@700680 {
 				status = "okay";
 			};
+			i2c1: i2c@701000 {
+				status = "disabled";
+			};
+			i2c2: i2c@701100 {
+				status = "disabled";
+			};
 
 			mdio@12a200 {
 				#address-cells = <1>;
diff --git a/arch/arm64/boot/dts/marvell/armada-7040-db.dtsi b/arch/arm64/boot/dts/marvell/armada-7040-db.dtsi
index 0ae6a8e..97f3ff5 100644
--- a/arch/arm64/boot/dts/marvell/armada-7040-db.dtsi
+++ b/arch/arm64/boot/dts/marvell/armada-7040-db.dtsi
@@ -69,14 +69,6 @@
 			sdhci@6e0000 {
 				bus-width = <4>;
 				non-removable; /* For now, need to configure the GPIO for card detect */
-				status = "okay";
-			};
-			serial@512000 {
-				status = "okay";
-			};
-			i2c@511000 {
-				status = "okay";
-				clock-frequency = <100000>;
 			};
 		};
 	};
-- 
1.9.1

