From 25239eddb387380dbfaa79228c0d13e7f8356e35 Mon Sep 17 00:00:00 2001
From: Hanna Hawa <hannah@marvell.com>
Date: Wed, 18 Mar 2015 16:52:15 +0200
Subject: [PATCH 0152/1240] fdt: a8k: added device tree for Armada-8k

Change-Id: Idc3ba690c0a9d40d48c0772948f9af4ba1dbe90c
Signed-off-by: Hanna Hawa <hannah@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/17624
Tested-by: Star_Automation <star@marvell.com>
Reviewed-by: Yehuda Yitschak <yehuday@marvell.com>
---
 arch/arm/dts/Makefile      |  1 +
 arch/arm/dts/armada-8k.dts | 52 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 53 insertions(+)
 create mode 100644 arch/arm/dts/armada-8k.dts

diff --git a/arch/arm/dts/Makefile b/arch/arm/dts/Makefile
index e055e89..2b540fe 100644
--- a/arch/arm/dts/Makefile
+++ b/arch/arm/dts/Makefile
@@ -52,6 +52,7 @@ dtb-$(CONFIG_AM33XX) += am335x-boneblack.dtb
 dtb-$(CONFIG_SOCFPGA) += socfpga_cyclone5_socrates.dtb
 
 dtb-$(CONFIG_MVEBU) += armada-385-db.dtb
+dtb-$(CONFIG_MVEBU) += armada-8k.dtb
 
 targets += $(dtb-y)
 
diff --git a/arch/arm/dts/armada-8k.dts b/arch/arm/dts/armada-8k.dts
new file mode 100644
index 0000000..bb681c6
--- /dev/null
+++ b/arch/arm/dts/armada-8k.dts
@@ -0,0 +1,52 @@
+
+/dts-v1/;
+
+/ {
+	model = "Marvell Armada 8k Development Board";
+	compatible = "marvell,a8k-db", "marvell,armada8k";
+
+	#address-cells = <2>;
+	#size-cells = <2>;
+
+	memory {
+		device_type = "memory";
+		reg = <0x00000000 0x10000000 0 0>; /* 256 MB */
+	};
+
+	cpus {
+		#address-cells = <1>;
+		#size-cells = <0>;
+		cpu@0 {
+			device_type = "cpu";
+			compatible = "arm,cortex-a57";
+			reg = <0>;
+		};
+	};
+
+	soc {
+		compatible = "marvell,armada8k-mbus";
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		internal-regs {
+			compatible = "marvell,internal-regs";
+			#address-cells = <1>;
+			#size-cells = <1>;
+			reg = <0xf0000000 0x4>;
+
+			tclk: tclk {
+				compatible = "marvell,tclk";
+				#clock-cells = <0>;
+				clock-frequency = <125000>;
+			};
+
+			spi0: spi@510600 {
+				compatible = "marvell,orion-spi";
+				reg = <0x510600 0x50>;
+				spi-max-frequency = <51200>;
+				clock = <&tclk>;
+				status = "okay";
+			};
+		};
+	};
+};
-- 
1.9.1

