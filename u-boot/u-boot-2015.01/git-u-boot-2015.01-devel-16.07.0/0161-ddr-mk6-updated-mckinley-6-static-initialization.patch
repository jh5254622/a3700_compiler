From 114c39e72d90e4ad61ec2dcfe54fe120070738d7 Mon Sep 17 00:00:00 2001
From: Yehuda Yitschak <yehuday@marvell.com>
Date: Sun, 22 Mar 2015 15:18:45 +0200
Subject: [PATCH 0161/1240] ddr: mk6: updated mckinley 6 static initialization

Change-Id: I9750af1ae6da32c39ed97a9be45d4fbfb2044515
Signed-off-by: Yehuda Yitschak <yehuday@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/17721
Reviewed-by: Hanna Hawa <hannah@marvell.com>
Tested-by: Star_Automation <star@marvell.com>
---
 drivers/ddr/ddr_mckinley6.c | 47 +++++++++++----------------------------------
 1 file changed, 11 insertions(+), 36 deletions(-)

diff --git a/drivers/ddr/ddr_mckinley6.c b/drivers/ddr/ddr_mckinley6.c
index 35ce3db..75010ff 100644
--- a/drivers/ddr/ddr_mckinley6.c
+++ b/drivers/ddr/ddr_mckinley6.c
@@ -23,8 +23,9 @@ void static_dram_init(void)
 {
 	u32 reg;
 
+
 	writel(0x7fbfdfef, 0xf0020340);
-	writel(0x000000aa, 0xf0020344);
+	writel(0x020000aa, 0xf0020344);
 	writel(0x00200000, 0xf0020310);
 	writel(0x00200000, 0xf0020314);
 	writel(0x00200000, 0xf0020318);
@@ -44,6 +45,7 @@ void static_dram_init(void)
 	writel(0x00030400, 0xf0020044);
 	writel(0x00006000, 0xf00202c0);
 	writel(0x00000020, 0xf00202c4);
+	writel(0x3fd5b595, 0xf0020058);
 	writel(0x00000001, 0xf0020048);
 	writel(0x00010200, 0xf0020180);
 	writel(0x000000ff, 0xf0020050);
@@ -68,6 +70,7 @@ void static_dram_init(void)
 	writel(0x02020404, 0xf00203bc);
 	writel(0x00000000, 0xf00203c0);
 	writel(0x00000000, 0xf00203c4);
+	writel(0x00081239, 0xf00203dc);
 	writel(0x000e000e, 0xf0020064);
 	writel(0x10077779, 0xf0020804);
 	writel(0x1ff00770, 0xf0020808);
@@ -78,42 +81,14 @@ void static_dram_init(void)
 	writel(0x00100100, 0xf0020810);
 	writel(0x00000400, 0xf0020840);
 	writel(0x81000001, 0xf00208c0);
+	writel(0x00010000, 0xf00208e0);
+	writel(0x00000000, 0xf00208d0);
+	writel(0x00020000, 0xf00208e0);
+	writel(0x00000000, 0xf00208d0);
+	writel(0x00040000, 0xf00208e0);
+	writel(0x00000000, 0xf00208d0);
+	writel(0x00080000, 0xf00208e0);
 	writel(0x00000000, 0xf00208d0);
-	writel(0x00000000, 0xf00208d4);
-	writel(0x00000000, 0xf00208d8);
-	writel(0x00000000, 0xf00208dc);
-	writel(0x00000000, 0xf00208e0);
-	writel(0x00000000, 0xf00208e4);
-	writel(0x00000000, 0xf00208e8);
-	writel(0x00000000, 0xf00208ec);
-	writel(0x00000000, 0xf00208f0);
-	writel(0x00000000, 0xf00208f4);
-	writel(0x00000000, 0xf00208f8);
-	writel(0x00000000, 0xf00208fc);
-	writel(0x00000000, 0xf0020900);
-	writel(0x00000000, 0xf0020904);
-	writel(0x00000000, 0xf0020908);
-	writel(0x00000000, 0xf002090c);
-	writel(0x00000000, 0xf0020910);
-	writel(0x00000000, 0xf0020914);
-	writel(0x00000000, 0xf0020918);
-	writel(0x00000000, 0xf002091c);
-	writel(0x00000000, 0xf0020920);
-	writel(0x00000000, 0xf0020924);
-	writel(0x00000000, 0xf0020928);
-	writel(0x00000000, 0xf002092c);
-	writel(0x00000000, 0xf0020930);
-	writel(0x00000000, 0xf0020934);
-	writel(0x00000000, 0xf0020938);
-	writel(0x00000000, 0xf002093c);
-	writel(0x00000000, 0xf0020940);
-	writel(0x00000000, 0xf0020944);
-	writel(0x00000000, 0xf0020948);
-	writel(0x00000000, 0xf002094c);
-	writel(0x00000000, 0xf0020950);
-	writel(0x00000000, 0xf0020954);
-	writel(0x00000000, 0xf0020958);
-	writel(0x00000000, 0xf002095c);
 	writel(0x00000000, 0xf0020890);
 	writel(0x00000000, 0xf0020894);
 	writel(0x00000000, 0xf0020898);
-- 
1.9.1

