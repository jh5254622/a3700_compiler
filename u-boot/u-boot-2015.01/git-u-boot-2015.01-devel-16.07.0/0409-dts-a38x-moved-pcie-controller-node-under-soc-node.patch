From ff5a1d7f95a92effc0a5bdd34a380e142bd84360 Mon Sep 17 00:00:00 2001
From: Shaker Daibes <shaker@marvell.com>
Date: Sun, 6 Sep 2015 13:44:52 +0300
Subject: [PATCH 0409/1240] dts: a38x: moved pcie-controller node under soc
 node

- Moved pcie-controller node under soc node due to register base address calculation

Change-Id: I100a545bd4431fd7bd464263e2133ac879233e0f
Signed-off-by: Shaker Daibes <shaker@marvell.com>
Reviewed-on: http://vgitil04.il.marvell.com:8080/23429
Reviewed-by: Hanna Hawa <hannah@marvell.com>
Tested-by: Hanna Hawa <hannah@marvell.com>
---
 arch/arm/dts/armada-385-db.dts | 30 ++++++++++++++----------------
 1 file changed, 14 insertions(+), 16 deletions(-)

diff --git a/arch/arm/dts/armada-385-db.dts b/arch/arm/dts/armada-385-db.dts
index fd8d5c7..4ea3cce 100644
--- a/arch/arm/dts/armada-385-db.dts
+++ b/arch/arm/dts/armada-385-db.dts
@@ -140,24 +140,22 @@
 					0xE6000000 0x2000000 ATTR(0x1, 0x4, 0xB8)
 					0xfd000000 0x1000000 ATTR(0x0, 0x1, 0x2F)>;
 			};
-		};
-
-
-		pcie-controller {
-			#address-cells = <1>;
-			#size-cells = <1>;
-			compatible = "marvell,mvebu-pcie";
+			pcie-controller {
+				#address-cells = <1>;
+				#size-cells = <1>;
+				compatible = "marvell,mvebu-pcie";
 
-			pcie@1,0 {
-				reg = <0x80000 0x2000>;
-				mem = <0xE0000000 0x2000000>;
-				status = "okay";
-			};
+				pcie@1,0 {
+					reg = <0x80000 0x2000>;
+					mem = <0xE0000000 0x2000000>;
+					status = "okay";
+				};
 
-			pcie@2,0 {
-				reg = <0x40000 0x2000>;
-				mem = <0xE2000000 0x2000000>;
-				status = "okay";
+				pcie@2,0 {
+					reg = <0x40000 0x2000>;
+					mem = <0xE2000000 0x2000000>;
+					status = "okay";
+				};
 			};
 		};
 	};
-- 
1.9.1

